(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/logo.1813edc8.svg"},36:function(e,t,n){e.exports=n(66)},41:function(e,t,n){},42:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(14),r=n.n(o),l=(n(41),n(16)),u=n(3),i=n(34),s=n.n(i),f=(n(42),n(10)),g=n.n(f),b=n(18),E=n(9),O=n(13),m=n.n(O),h="https://actionpterygii.microcms.io/api/v1/",p="3eb7bf23-beb0-472c-82af-0b67cdb6ca22",d=function(e){return{type:"FETCH_BLOG_POST_LIST",status:e}},_=function(e,t){return{type:"SUCCESS_FETCH_BLOG_POST_LIST",blogPostList:e,status:t}},v=function(e){return{type:"SUCCESS_FETCH_BLOG_POST",blogPost:e}},j=function(e){return{type:"SUCCESS_FETCH_BLOG_CATEGORY",blogCategory:e}};function C(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.blogInfo})),n=Object(E.c)((function(e){return e.blogPostList})),a=Object(E.c)((function(e){return e.blogPost})),c=Object(E.c)((function(e){return e.blogCategory}));return{blogInfo:t,fetchBlogInfo:function(){m.a.get(h+"information",{headers:{"X-API-KEY":p}}).then((function(t){e({type:"FETCH_BLOG_INFO",payload:t.data})}))},blogPostList:n,fetchBlogPostList:function(){var t=Object(b.a)(g.a.mark((function t(){var a,c,o,r,l,u,i=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:"new",c=i.length>1&&void 0!==i[1]?i[1]:null,o=i.length>2&&void 0!==i[2]?i[2]:null,r=i.length>3&&void 0!==i[3]?i[3]:"10",e(d(a)),l="continue"===a?"&offset=".concat(n.contents.length):"",u="all"===c?"&q=".concat(o):"category"===c?"&filters=".concat(c,"[equals]").concat(o):"tags"===c?"&filters=".concat(c,"[contains]").concat(o):"",t.next=9,m.a.get("".concat(h,"post?limit=").concat(r).concat(l).concat(u),{headers:{"X-API-KEY":p}}).then((function(t){e(_(t.data,a))})).catch((function(){e({type:"FAILED_FETCH_BLOG_POST_LIST"})}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),blogPost:a,fetchBlogPost:function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"FETCH_BLOG_POST"}),t.next=3,m.a.get(h+"post/post"+n,{headers:{"X-API-KEY":p}}).then((function(t){e(v(t.data))})).catch((function(){e({type:"FAILED_FETCH_BLOG_POST"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),blogCategory:c,fetchBlogCategory:function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"FETCH_BLOG_CATEGORY"}),t.next=3,m.a.get(h+"category/"+n,{headers:{"X-API-KEY":p}}).then((function(t){e(j(t.data))})).catch((function(){e({type:"FAILED_FETCH_BLOG_CATEGORY"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),postIdToPath:function(e){return e.replace(/post/g,"")}}}var L=function(){var e=C().blogInfo;return c.a.createElement("header",null,c.a.createElement("h1",null,e.title),c.a.createElement("p",null,e.description))};var y=function(){return C().blogInfo,c.a.createElement("div",null,"\u3068\u3063\u3077")};var P=function(){var e=C(),t=e.blogPostList,n=e.fetchBlogPostList,o=e.postIdToPath;return Object(a.useEffect)((function(){n("new")}),[]),console.log(t),t.fetching?c.a.createElement("div",null,"\u3088\u307f\u3053\u307f\u3061\u3085\u3046"):t.success?c.a.createElement("div",null,c.a.createElement("h2",null,"\u8a18\u4e8b\u4e00\u89a7"),c.a.createElement("ul",null,t.contents.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("a",{href:"/#/post/".concat(o(e.id))},c.a.createElement("h3",null,e.title),c.a.createElement("div",null,e.content),c.a.createElement("div",null,e.category.name),c.a.createElement("ul",null,e.tags.map((function(e,t){return c.a.createElement("li",{key:t},e.name)})))))}))),c.a.createElement("div",null,t.moreFetching?c.a.createElement("div",null,"\u8aad\u307f\u8fbc\u307f\u4e2d"):t.totalCount>t.contents.length?c.a.createElement("button",{type:"button",onClick:function(){return n("continue")}},"\u66f4\u306b\u8aad\u307f\u8fbc\u3080"):"")):t.failed?c.a.createElement("div",null,"\u306a\u3044\u3067\u3059"):c.a.createElement("div",null,"\u306a\u306b\u304b\u666e\u901a\u3058\u3083\u306a\u3044\u72b6\u614b\u3067\u3059")};var T=function(){var e=C(),t=e.blogPost,n=e.fetchBlogPost,o=Object(u.f)().key;return Object(a.useEffect)((function(){n(o)}),[]),t.fetching?c.a.createElement("div",null,"\u3088\u307f\u3053\u307f\u3061\u3085\u3046"):t.success?c.a.createElement("div",null,c.a.createElement("h2",null,t.title),c.a.createElement("div",null,t.content),c.a.createElement("div",null,c.a.createElement("a",{href:"/#/category/".concat(t.category.id)},t.category.name)),c.a.createElement("ul",null,t.tags.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("a",{href:"/#/tag/".concat(e.id)},e.name))})))):t.failed?c.a.createElement("div",null,"\u306a\u3044\u3067\u3059"):c.a.createElement("div",null,"\u306a\u306b\u304b\u666e\u901a\u3058\u3083\u306a\u3044\u72b6\u614b\u3067\u3059")};var S=function(){var e=C(),t=e.blogCategory,n=e.fetchBlogCategory,o=Object(u.f)().key;return Object(a.useEffect)((function(){n(o)}),[]),t.fetching?c.a.createElement("div",null,"\u3088\u307f\u3053\u307f\u3061\u3085\u3046\u3067\u3059"):t.success?c.a.createElement("div",null,c.a.createElement("h2",null,t.name),c.a.createElement("div",null,t.desc)):t.failed?c.a.createElement("div",null,"\u306a\u3044\u3067\u3059"):c.a.createElement("div",null,"\u306a\u306b\u304b\u666e\u901a\u3058\u3083\u306a\u3044\u72b6\u614b\u3067\u3059\u3002")};var B=function(){var e=C().blogInfo;return c.a.createElement("footer",null,c.a.createElement("small",null,"\xa9 2020 ",e.copyright))};var F=function(){var e=C().fetchBlogInfo;return Object(a.useEffect)((function(){e()}),[]),c.a.createElement(l.a,null,c.a.createElement(L,null),c.a.createElement("main",null,c.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:y}),c.a.createElement(u.a,{exact:!0,path:"/post",component:P}),c.a.createElement(u.a,{exact:!0,path:"/post/:key",component:T}),c.a.createElement(u.a,{exact:!0,path:"/category/:key",component:S}))),c.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(17),G=n(23),H=n(1),w={blogInfo:{},blogPostList:{},blogPost:{},blogCategory:{}};var A=Object(I.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BLOG_INFO":return Object(H.a)(Object(H.a)({},e),{},{blogInfo:t.payload});case"FETCH_BLOG_POST_LIST":return"continue"===t.status?Object(H.a)(Object(H.a)({},e),{},{blogPostList:Object(H.a)(Object(H.a)({},e.blogPostList),{},{moreFetching:!0})}):Object(H.a)(Object(H.a)({},e),{},{blogPostList:{fetching:!0}});case"SUCCESS_FETCH_BLOG_POST_LIST":return console.log(e),"continue"===t.status?Object(H.a)(Object(H.a)({},e),{},{blogPostList:Object(H.a)(Object(H.a)({},t.blogPostList),{},{contents:[].concat(Object(G.a)(e.blogPostList.contents),Object(G.a)(t.blogPostList.contents)),success:!0})}):Object(H.a)(Object(H.a)({},e),{},{blogPostList:Object(H.a)(Object(H.a)({},t.blogPostList),{},{success:!0})});case"FAILED_FETCH_BLOG_POST_LIST":return Object(H.a)(Object(H.a)({},e),{},{blogPostList:{failed:!0,err:t.err}});case"FETCH_BLOG_POST":return Object(H.a)(Object(H.a)({},e),{},{blogPostList:{fetching:!0}});case"SUCCESS_FETCH_BLOG_POST":return Object(H.a)(Object(H.a)({},e),{},{blogPost:Object(H.a)(Object(H.a)({},t.blogPost),{},{success:!0})});case"FAILED_FETCH_BLOG_POST":return Object(H.a)(Object(H.a)({},e),{},{blogPost:{failed:!0}});case"FETCH_BLOG_CATEGORY":return Object(H.a)(Object(H.a)({},e),{},{blogCategory:{fetching:!0}});case"SUCCESS_FETCH_BLOG_CATEGORY":return Object(H.a)(Object(H.a)({},e),{},{blogCategory:Object(H.a)(Object(H.a)({},t.blogCategory),{},{success:!0})});case"FAILED_FETCH_BLOG_CATEGORY":return Object(H.a)(Object(H.a)({},e),{},{blogCategory:{failed:!0}});default:return e}}));r.a.render(c.a.createElement(E.a,{store:A},c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.355ca50c.chunk.js.map